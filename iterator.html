<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    1.在原生数据中有的就已经提供了iterator接口（如数组，set,map等），有的没有提供(如对象)等。<br/>
    2.凡是具有Symbol.iterator属性的数据据结构都具有iterator接口。
    <h1>具备iterator的接口都具备1：结构赋值，2：扩展运算符（...）,3都可以使用for...of循环</h1>
</body>
<script>
    const arr = [1,12,2];
    function iterator(arr){
        let index = 0;
        return {
            next:function(){
                return index < arr.length ? {value:arr[index++],done:false} : {value:undefined,done:true}
            }
        }
    }

    const it = iterator(arr);

    // console.log(it);

    // console.log(it.next());
    // console.log(it.next());
    // console.log(it.next());
    // console.log(it.next());
    // console.log(it.next());
    // console.log(it.next());

    const arr1 = [1,2,3,4,5,6];
    const set  = new Set([1,2,3,4]);
    const map = new Map([['q',1],['a',2]]);

    const arr2 = arr1[Symbol.iterator]();
    const set2 = set[Symbol.iterator]();
    const map2 = map[Symbol.iterator]();
    // console.log(map.get('a'));
    // console.log('----------------------------------');
    // console.log(arr2);
    // console.log(arr2.next());
    // console.log(arr2.next());
    // console.log(arr2.next());
    // console.log(set2);
    // console.log(set2.next());
    // console.log(set2.next());
    // console.log(set2.next());
    // console.log(set2.next());
    // console.log(map2);
    // console.log(map2.next());
    // console.log(map2.next());
    // console.log(map2.next());
    // console.log(map2.next());
    // console.log('----------------------------------');
    let str = 'guoshenghua';
    let  arrstr = [...str];
    console.log(arrstr);
    let obj = {};
    console.log(str[Symbol.iterator]);
    console.log(obj[Symbol.iterator]);
    const arr3 = [{},'a','a',1,2,3,4,2,2,9,2,2,2];
    console.log(new Set(arr3));
    console.log([...new Set(arr3)]);

    const obj1 = {
        'a':1,
        'b':2,
        'c':3,
        'm':'ku'
    }

    Object.prototype.iterator = function (){
        let arr = this ;
        let index = 0;
        return {
            next:function(){
                return index < arr.length ? {value:arr[index++],done:false} : {value:undefined,done:true}
            }
        }
    }
    const obj2 = obj1.iterator();
    console.log(obj1.length);
    console.log(obj2);
    console.log(obj2.next());
    console.log(obj2.next());
    console.log(obj2.next());
</script>
</html>